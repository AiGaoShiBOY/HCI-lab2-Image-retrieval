{% extends "bootstrap/base.html" %}
{% block title %}Catch Similar{% endblock %}


{% block styles %}
{{super()}}

<link rel="stylesheet"
      href="{{url_for('.static', filename='mystyle.css')}}">
<link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.1/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
<link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
{% endblock %}


{% block scripts %}
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<!-- piexif.min.js is needed for auto orienting image files OR when restoring exif data in resized images and when you
    wish to resize images before upload. This must be loaded before fileinput.min.js -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.1/js/plugins/piexif.min.js" type="text/javascript"></script>
<!-- sortable.min.js is only needed if you wish to sort / rearrange files in initial preview.
    This must be loaded before fileinput.min.js -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.1/js/plugins/sortable.min.js" type="text/javascript"></script>
<!-- popper.min.js below is needed if you use bootstrap 4.x. You can also use the bootstrap js
   3.3.x versions without popper.min.js. -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<!-- bootstrap.min.js below is needed if you wish to zoom and preview file content in a detail modal
    dialog. Bootstrap 5.x and 4.x is supported. You can also use the 3.3.x versions. -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" type="text/javascript"></script>
<!-- the main fileinput plugin file -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.1/js/fileinput.min.js"></script>
<!-- optionally if you need a theme like font awesome theme you can include it as mentioned below -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.1/themes/fa/theme.js"></script>
<!-- optionally if you need translation for your language then include  locale file as mentioned below (replace LANG.js with your locale file) -->
<script src = "{{url_for('.static', filename='myscript.js')}}"></script>
{{super()}}
{% endblock %}

{% block navbar %}
<nav class="navbar navbar-inverse navbar-static-top" style="font-family: Avenir;font-weight: bold;margin-bottom: 0;padding-right: 0;padding-left: 0">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"><i class="fa fa-camera-retro fa-lg"></i>  Catch Similar</a>
    </div>


    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <p class="navbar-text">Designed by Li Yuanfeng, 2021.5</p>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#jumbotron"><i class="fa fa-info-circle"></i> What's this?</a></li>
        <li><a href="#search"><i class="fa fa-search"></i> Search</a></li>
        <li><a href="/favorite"><i class="fa fa-star"></i> Favorite</a></li>
      </ul>
      <a href = ""><button type="button" class="btn btn-primary navbar-btn"><i class="fa fa-github fa-lg"></i></button></a>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
{% endblock %}

{% block content %}

<div class="alert alert-success hint" id="success" ><i class="fa fa-check fa-lg"></i> Successfully add to your favorite!</div>
<div class="alert alert-warning hint" id="fail" ><i class="fa fa-warning fa-lg"></i> This image already exists in your favorite!</div>
<div class="alert alert-success hint" id="success-clear" ><i class="fa fa-check fa-lg"></i> Successfully clear the history! </div>

  <div id="jumbotron" class="jumbotron">
    <div class = "container">
      <h1>Find similar pictures for you!</h1>
      <p>You can find some images similar to yours on this website. We:</p>
      <p><span class="label label-primary">Have 3, 000 images in our database</span> <span class="label label-success">Use artificial intelligence algorithm for matching</span></p>
      <p><span class="label label-warning">Collect your favorite images</span> <span class="label label-danger">Free and open source</span></p>
      <div class="row" style="margin-top: 1cm">
       <div class="col-md-3 " style = "text-align: center;" ><img src="/images/1.jpg" alt="..." class="img-rounded homepage-image"></div>
        <div class="col-md-3 " style = "text-align: center;"><img src="/images/2.jpg" alt="..." class="img-rounded homepage-image"></div>
        <div class="col-md-3" style = "text-align: center;"><img src="/images/3.jpg" alt="..." class="img-rounded homepage-image"></div>
        <div class="col-md-3" style = "text-align: center;"><img src="/images/4.jpg" alt="..." class="img-rounded homepage-image"></div>
      </div>
  </div>
  </div>

<div class="container" style="margin-top: 1cm">
<div class="page-header" style="text-align: center;">
  <h1>Upload Your image & Have a try! <small style="font-family: Avenir">support *.jpg/*.png/*.jpeg</small></h1>
</div>
</div>


<div id = "search" class = "row" >
  <div style ="width: 500px; display: block;margin-left: auto;margin-right: auto;">
    <form action="/picture" method="post" enctype=multipart/form-data>
      <input id="input-1"  type="file" name="file" class="file" required>
      <button type="submit" class="btn btn-success btn-lg"
              style="display:block;margin-left: auto;margin-right: auto;font-weight: bold;margin-top: 1.5cm" onclick="fun()">
        <i class="fa fa-camera-retro fa-lg">
        </i>  Search!
      </button>
    </form>
  </div>
</div>

<div class="progress the-progress" id="load" style="display:none">
  <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
    <span class="sr-only">100% Complete</span>
  </div>
</div>

<div id="result-div" class="container" style="display: none">
  <div class="page-header" style="text-align: center">
    <h1>Results</h1>
  </div>

  <div style="text-align: center;margin-bottom: 1cm;margin-left: auto;margin-right: auto;">
    <p class="lead"> Hot Tags Filter</p>
    <button type="button" class="btn btn-default mybtn" onclick="show_all()"><i class="fa fa-camera"></i> All</button>
    <button type="button" class="btn btn-primary mybtn" id="people" onclick="my_filter(this.id)"><i class="fa fa-user"></i> People</button>
    <button type="button" class="btn btn-info mybtn" id="male" onclick="my_filter(this.id)" ><i class="fa fa-mars"></i> Male</button>
    <button type="button" class="btn btn-danger mybtn" id="female" onclick="my_filter(this.id)"><i class="fa fa-venus"></i> Female</button>
    <button type="button" class="btn btn-success mybtn" id="animals" onclick="my_filter(this.id)" ><i class="fa fa-paw"></i> Animals</button>
    <button type="button" class="btn btn-warning mybtn" id="structures" onclick="my_filter(this.id)" ><i class="fa fa-building"></i> Structures</button>
  </div>

  <div class="row">
    <div class="col-sm-6 col-md-4" id="div0">
    <div class="thumbnail">
      <img id="img0" src="" alt="..." style="height: 340px;width: 100%">
      <div class="caption" style="text-align: center">
        <h3>Image 1</h3>
        <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag0"></span></p>
        <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="0" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="0e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
      </div>
    </div>
  </div>
    <div class="col-sm-6 col-md-4" id="div1">
    <div class="thumbnail">
      <img id="img1" src="" alt="..." style="height: 340px;width: 100%">
      <div class="caption" style="text-align: center">
        <h3>Image 2</h3>
        <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag1"></span></p>
       <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="1" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="1e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
      </div>
    </div>
  </div>
    <div class="col-sm-6 col-md-4" id="div2">
    <div class="thumbnail">
      <img id="img2" src="" alt="..." style="height: 340px;width: 100%">
      <div class="caption" style="text-align: center">
        <h3>Image 3</h3>
         <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag2"></span></p>
       <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="2" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="2e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
      </div>
    </div>
  </div>
    <div class="col-sm-6 col-md-4" id="div3">
    <div class="thumbnail">
      <img id="img3" src="" alt="..." style="height: 340px;width: 100%">
      <div class="caption" style="text-align: center">
        <h3>Image 4</h3>
        <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag3"></span></p>
        <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="3" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="3e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
      </div>
    </div>
  </div>
    <div class="col-sm-6 col-md-4" id="div4">
    <div class="thumbnail">
      <img id="img4" src="" alt="..." style="height: 340px;width: 100%">
      <div class="caption" style="text-align: center">
        <h3>Image 5</h3>
        <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag4"></span></p>
         <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="4" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="4e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
      </div>
    </div>
  </div>
    <div class="col-sm-6 col-md-4" id="div5">
    <div class="thumbnail">
      <img id="img5" src="" alt="..." style="height: 340px;width: 100%">
      <div class="caption" style="text-align: center">
        <h3>Image 6</h3>
         <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag5"></span></p>
         <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="5" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="5e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
      </div>
    </div>
  </div>
    <div class="col-sm-6 col-md-4"  id="div6">
      <div class="thumbnail">
        <img id="img6" src="" alt="..." style="height: 340px;width: 100%">
        <div class="caption" style="text-align: center">
          <h3>Image 7</h3>
           <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag6"></span></p>
       <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="6" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="6e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-md-4"  id="div7">
      <div class="thumbnail">
        <img id="img7" src="" alt="..." style="height: 340px;width: 100%">
        <div class="caption" style="text-align: center">
          <h3>Image 8</h3>
          <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag7"></span></p>
        <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="7" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="7e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-md-4"  id="div8">
      <div class="thumbnail">
        <img id="img8" src="" alt="..." style="height: 340px;width: 100%">
        <div class="caption" style="text-align: center">
          <h3>Image 9</h3>
            <p class = "lead" id = ><i class="fa fa-tag"></i> <span id="tag8"></span></p>
           <div style = 'text-align: center'>
          <p class = 'myp'><button type="button" class="btn btn-warning" id="8" onclick="addFavorite(this.id)"><i class="fa fa-star"></i> Add to my favorite</button></p>
           <p class = 'myp'><button type="button" class="btn btn-primary" id="8e" onclick="download1(this.id)"><i class="fa fa-download"></i> Download </button></p>
        </div>
        </div>
      </div>
    </div>



</div>
</div>

<div class="container" style="margin-top: 1cm">
  <div class="page-header" style="text-align: center">
    <h1>Search History</h1>
  </div>
  <div class="row" id ="upload-div">
  </div>
</div>

<div class="container" id="clear_contain" style="text-align: center ;display: None" >
  <button type='button' class='btn btn-danger btn-lg' onclick="clear_his()"><i class="fa fa-trash fa-lg"></i> Clear all history</button>
</div>

<footer>
  <div class="myfooter">
    <p><i class="fa fa-camera-retro"> Catch Similar</i></p>
    <p style="font-size:16px;">2021.5 Designed by Li Yuanfeng</p>
  </div>
</footer>





{% endblock %}